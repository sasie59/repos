{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","useState","repoList","setRepoList","isLoading","setIsLoading","useEffect","fetchOnLock","cb","window","removeEventListener","handleScroll","data","addEventListener","passive","setTimeout","fetch","then","result","json","catch","err","console","log","document","documentElement","scrollTop","scrollHeight","clientHeight","className","map","repo","i","name","description","url","id","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"uNAiEeA,MAnDf,WAAgB,IAAD,EAEmBC,mBAAS,IAF5B,mBAENC,EAFM,KAEIC,EAFJ,OAGqBF,oBAAS,GAH9B,mBAGNG,EAHM,KAGKC,EAHL,KAmCb,OA9BAC,qBAAU,WAER,SAASC,IAjBb,IAAqBC,EAmBfC,OAAOC,oBAAoB,SAAUC,GAnBtBH,EAoBH,SAACI,GACXT,GAAY,SAAAD,GAAQ,4BAAQA,GAAR,YAAqBU,OACzCP,GAAa,GACbI,OAAOI,iBAAiB,SAAUF,EAAc,CAAEG,SAAS,KArBjEC,YAAW,WACTC,MAAM,8CACHC,MAAK,SAACC,GAAD,OAAYA,EAAOC,UACxBF,KAAKT,GACLY,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAC7B,KAoBD,SAASV,IAAgB,IAAD,EAC4Ba,SAASC,gBAAnDC,EADc,EACdA,UAAWC,EADG,EACHA,aACfD,EAFkB,EACWE,cACDD,EAAe,MAC7CtB,GAAa,GACbE,KASJ,OAJAE,OAAOI,iBAAiB,SAAUF,EAAc,CAAEG,SAAS,IAE3DP,IAEO,WACLE,OAAOC,oBAAoB,SAAUC,MAEtC,IAGD,sBAAKkB,UAAU,MAAf,UACG3B,EAAS4B,KAAI,SAACC,EAAMC,GAAP,OACZ,sBAAKH,UAAU,OAAf,UACE,qBAAKA,UAAU,OAAf,SAAuBE,EAAKE,OAC5B,qBAAKJ,UAAU,OAAf,SAAuBE,EAAKG,cAC5B,qBAAKL,UAAU,MAAf,SAAsBE,EAAKI,QAHFJ,EAAKK,GAAKJ,MAMtC5B,GACC,qBAAKyB,UAAU,UAAf,oCC/COQ,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBtB,MAAK,YAAkD,IAA/CuB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFvB,SAASwB,eAAe,SAM1BX,M","file":"static/js/main.aa4ab928.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\nimport './App.css';\n\n/** 抓取我的 github repo 清單 */\nfunction fetchMyRepo(cb) {\n  /** 故意等一秒以呈現讀取時間 */\n  setTimeout(function () {\n    fetch(\"https://api.github.com/users/sasie59/repos\")\n      .then((result) => result.json())\n      .then(cb)\n      .catch((err) => console.log(err));\n  }, 1000);\n}\n\nfunction App() {\n\n  const [repoList, setRepoList] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    \n    function fetchOnLock() {\n      /** 先刪掉滑動方法，以防使用者繼續滑動call api */\n      window.removeEventListener(\"scroll\", handleScroll);\n      fetchMyRepo((data) => {\n        setRepoList(repoList => [...repoList, ...data]);\n        setIsLoading(false);\n        window.addEventListener(\"scroll\", handleScroll, { passive: true });\n      });\n    }\n\n    function handleScroll() {\n      const { scrollTop, scrollHeight, clientHeight } = document.documentElement;\n      if (scrollTop + clientHeight >= scrollHeight - 100) {\n        setIsLoading(true);\n        fetchOnLock();\n      }\n    }\n\n    /** 設定滾動頁面時會觸發 handleScroll */\n    window.addEventListener(\"scroll\", handleScroll, { passive: true });\n\n    fetchOnLock();\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    }\n  }, []);\n\n  return (\n    <div className=\"App\">\n      {repoList.map((repo, i) =>\n        <div className=\"repo\" key={repo.id + i}>\n          <div className=\"name\">{repo.name}</div>\n          <div className=\"desc\">{repo.description}</div>\n          <div className=\"url\">{repo.url}</div>\n        </div>\n      )}\n      {isLoading &&\n        <div className=\"loading\">讀取中</div>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}